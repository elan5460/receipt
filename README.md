# 发票小程序 接口需求文档

## 一、登陆 GET

### 1. 请求参数

| 参数 | 可空  | 类型   | 描述                         |
| ---- | ----- | ------ | ---------------------------- |
| code | False | String | 微信换openid等信息的登陆code |

### 2. 返回数据

```python
{
	"code": 0,
	"msg": "成功",
	"data": {
        "sessionId":"用户标识符"
  }	
}
```

## 二、请求发票抬头列表（分页一页20个）GET

### 1. 请求参数

| 参数      | 可空  | 类型   | 描述        |
| --------- | ----- | ------ | ----------- |
| sessionId | False | String | 用户标识符  |
| page      | False | Int    | 页数从1开始 |

### 2. 返回数据

```python
{
	"code": 0,
	"msg": "成功",
	"data": {
        "titles":[{
        	"id":"该条title对应的id，如201",  
          "title":"发票抬头，如陕西师范大学",
          "detail":"个人则展示邮箱，企业则展示税号"
        },{
        	"id":"该条title对应的id，如203",  
          "title":"发票抬头，如陕西师范大学",
          "detail":"个人则展示邮箱，企业则展示税号"
        }]
  }	
}
```

> 说明：抬头展示的顺序为 **新添加** 的在前

## 三、请求发票抬头详细信息 GET

### 1. 请求参数

| 参数      | 可空  | 类型   | 描述       |
| --------- | ----- | ------ | ---------- |
| sessionId | False | String | 用户标识符 |
| page      | False | String | 发票抬头id |

### 2. 返回数据

- 企业抬头

```json
{
	"code": 0,
	"msg": "成功",
	"data": {
    		"isCompany":true, //是否是企业抬头，是则为true
        "title":{
    			//企业抬头展示的信息
        	"id":"该条title对应的id，如201",  
          "title":"发票抬头，如陕西师范大学",
          "taxNumb":"x1231244343423",//税号
    			
    			//以下为可选参数
    			"address":"单位地址陕西省西安市长安区吧啦吧啦吧啦",
    			"companyPhone":"电话号码",
          "bank":"开户银行",
          "bankAccount":"银行账户11111",
        }
  }	
}
```

- 个人抬头

```json
{
	"code": 0,
	"msg": "成功",
	"data": {
    		"isCompany":false, //是否是企业抬头，是则为true
        "title":{
    			//个人抬头展示的信息
        	"id":"该条title对应的id，如201",  
          "title":"发票抬头，如陕西师范大学",
          "email":"邮箱345592674@qq.com"
        }
  }	
}
```

## 四、修改抬头 POST

### 1. 请求参数

- 企业抬头

| 参数      | 可空  | 类型   | 描述                               |
| --------- | ----- | ------ | ---------------------------------- |
| sessionId | False | String | 用户标识符                         |
| titleId   | True  | String | 抬头id，若为新增抬头，则没有此参数 |
| type      | False | String | 可选值 company \| person           |
|           |       |        |                                    |
|           |       |        |                                    |
|           |       |        |                                    |
|           |       |        |                                    |
|           |       |        |                                    |
|           |       |        |                                    |

### 2. 返回数据

```json
{
	"code": 0,
	"msg": "成功",
	"data": {	
  }	
}
```

## 五、请求发票详情

## 六、历史发票中，请求可供筛选的年月数组

## 七、历史发票中，筛选年月范围内的发票

## 八、历史发票中，筛选发票类型

## 九、历史发票中，请求未筛选的发票概览列表

## 十、请求可开票的详细数据，如金额

## 十一、开票接口


